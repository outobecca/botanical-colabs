# Jekyll Integration Guide

This document explains the Jekyll integration for the Botanical Colabs GitHub Pages site.

## What's New

The site has been enhanced with Jekyll to support dynamic blog functionality alongside the static notebook pages.

### Key Changes

1. **Removed `.nojekyll`** - The site now uses Jekyll for processing
2. **Enhanced `_config.yml`** - Added Jekyll-specific configuration for blog support
3. **Created `_posts/` directory** - Contains blog posts in Markdown format
4. **Updated GitHub Actions workflow** - Now builds with Jekyll before deployment
5. **Created blog infrastructure** - Added blog index page and initial welcome post

## Blog Structure

### Directory Layout

```
/
├── _posts/                          # Blog posts (Jekyll convention)
│   └── YYYY-MM-DD-title.md         # Post files with date prefix
├── blog/
│   └── index.html                   # Blog listing page
├── _config.yml                      # Jekyll configuration
└── index.html                       # Main landing page with blog section
```

### Writing Blog Posts

Blog posts should be placed in the `_posts/` directory with the naming convention:

```
YYYY-MM-DD-post-title.md
```

Each post must have front matter:

```yaml
---
layout: post
title: "Your Post Title"
date: YYYY-MM-DD
author: Your Name
categories: [category1, category2]
tags: [tag1, tag2]
---

Your post content here...
```

### Jekyll Configuration

The `_config.yml` file includes:

- **Basic site information**: title, description, URL, baseurl
- **Jekyll theme**: jekyll-theme-minimal
- **Plugins**: jekyll-feed, jekyll-sitemap, jekyll-seo-tag
- **Blog settings**: permalink structure for posts
- **Collections**: posts configuration
- **Exclusions**: files to ignore during build

## GitHub Pages Deployment

The site is deployed via GitHub Actions (`.github/workflows/pages.yml`):

1. **Checkout code**
2. **Setup Ruby environment**
3. **Install Jekyll and dependencies** (bundler, github-pages gem)
4. **Build site with Jekyll** - Generates static files in `_site/`
5. **Upload and deploy** to GitHub Pages

## Blog Features

### Current Features

- ✅ Blog post listing on home page
- ✅ Dedicated blog index page at `/blog/`
- ✅ Sample welcome post
- ✅ Responsive design matching site theme
- ✅ Navigation integration

### Planned Features

- Research case studies showcasing notebook usage
- Tutorial posts on specific botanical analyses
- Community contributions and guest posts
- RSS feed (automatically generated by jekyll-feed plugin)
- SEO optimization (via jekyll-seo-tag plugin)
- Sitemap generation (via jekyll-sitemap plugin)

## Static vs. Jekyll Content

The site uses a hybrid approach:

### Static Content (Not Processed by Jekyll)

- Notebook index pages (`notebooks/*/index.html`)
- Main landing page structure
- CSS and JavaScript files
- Markdown documentation files

These files use client-side JavaScript to render content dynamically.

### Jekyll-Processed Content

- Blog posts in `_posts/`
- Any files with front matter
- Site-wide variables and includes (if added in future)

## Testing Locally

To test the Jekyll site locally:

```bash
# Install dependencies
gem install bundler
cat > Gemfile << EOF
source "https://rubygems.org"
gem "github-pages", group: :jekyll_plugins
gem "jekyll-feed"
gem "jekyll-sitemap"
gem "jekyll-seo-tag"
EOF
bundle install

# Build and serve
bundle exec jekyll serve

# View at http://localhost:4000/botanical-colabs/
```

## Adding New Blog Posts

1. Create a new file in `_posts/` with format: `YYYY-MM-DD-title.md`
2. Add front matter with title, date, author, categories, tags
3. Write content in Markdown
4. Commit and push to main branch
5. GitHub Actions will automatically build and deploy

## Future Enhancements

### Potential Features

- **Jekyll layouts**: Create reusable templates for posts and pages
- **Includes**: Header, footer, navigation components
- **Data files**: Store notebook metadata in `_data/`
- **Liquid templating**: Dynamic content generation
- **Collections**: Organize notebooks as Jekyll collections
- **Tags and categories**: Better organization and filtering
- **Search functionality**: Site-wide search
- **Comments**: Integration with utterances or similar
- **Analytics**: Track blog engagement

## Compatibility

The hybrid approach ensures:

- ✅ Existing notebook pages work as before
- ✅ README.md rendering continues via JavaScript
- ✅ Colab links function correctly
- ✅ Blog posts integrate seamlessly
- ✅ Navigation between all sections works smoothly

## Troubleshooting

### Jekyll Build Errors

If the GitHub Actions workflow fails:

1. Check the Actions tab for error messages
2. Verify front matter syntax in blog posts
3. Ensure `_config.yml` is valid YAML
4. Check for conflicting plugins or settings

### Local Testing Issues

If local Jekyll server fails:

1. Ensure Ruby version matches (3.1+)
2. Run `bundle update` to refresh dependencies
3. Check for port conflicts (default 4000)
4. Clear `_site/` directory and rebuild

## Resources

- [Jekyll Documentation](https://jekyllrb.com/docs/)
- [GitHub Pages Documentation](https://docs.github.com/en/pages)
- [Jekyll Theme Minimal](https://github.com/pages-themes/minimal)
- [Writing Posts in Jekyll](https://jekyllrb.com/docs/posts/)
